#!/usr/bin/env bash
if [ -z "$1" ]
then
    echo "Please enter node number to start"
    exit 0
fi

KEY1="112t8rnX6EkRa7cRBN8M2j3vw8Y2EY4XHbVBWoTgFsiPHnLorXUXKfgXGb9cq3E64bF3WzfQqYsrALg74jakMGab9U4F25TaE1yUbFQbzUHM"
KEY2="112t8rnXWQ8iqcJ7uWZWawLJ42b4zT2PyEy3oWiU8SgKjSeZJJUPPK9k157uz863wvi2MBApKqRSqjydazj6GKWkP2eLMsAcn4TimELTnqCy"
KEY3="112t8rnXbsZhTgAbPgo9x13FnvvN4pDzJRFVWfHjZL1xu5KQnkUS9yz9GiuMDsNBJ5JcvABYtNCdTUZiqVQUj1TgKTYGQ2tc9LSTbVJf6rLD"
KEY4="112t8rnXzNabdFvxJ4dHnQLbD2i8X4KX5nK4k8cqCzT75U6YZCZY2MkYTcSQswWBsdRhBWwsFo35VTniNr8kEefhbCEpULFLzLKWsFckDasD"
KEY5="112t8rnYQexaKDUrL9kGTYgeXnqVLYxeRUuuzArUi78PSRH66ECzt1yd6Cqk35F5FAtfcHZsZXbXkpCopnBcNLoTiWRYnxnAZ47TWCZcR4mB"
KEY6="112t8rnYUDUoomg6CtbGTGE1rxoGT7hvx25LGdjtz36sx89tX7XaRN9N9o4VCPGjQwgBvYw4L8n4mbPduZqrkgofzmeKANuFRYZ8AWpYUTUq"
KEY7="112t8rnYn3NJNkAd97ynKjBTtuHfMxwS1cknMuiuNs9nEapBnKxA5ss9T8NnsZ2TUbhJ9ADutYx5j33nQWhHFFDyauL34CVJwN1s8KTMDVz5"
KEY8="112t8rnZF9SWLKej4LAHUFHnPAzz9AHWKNEBqoo23WDyEsB7CWLfcFo5YA6VwQFs5db5RrGNoUSxvSD1qMAfPUuUn6pdUrFHw3B3MYFhXkGi"
KEY9="112t8rnZYudF1kvXqNG5uD5cujdtNUMjP43cjzGtAwRuAoJvHby5uQ9t2FdfnhYGEmaDBedsLxe2VnjhPV2gYVvVDurapwhrCEe2244m9VzR"
KEY10="112t8rnZhMCKs4AqWDtPz3naLKfEmjUrhGFqjPt2BG1CNHrE3igKGBTXoNq7nLKzXEtj7Q84GqD3ZXfZ9WSdK8awtfGs5dQVu7pD4eHAa8pE"
KEY11="112t8rnZw78WWvy6hynbTBnptTYrgm16DJe8eUHSFo23FBtChcbrJRbNDu4kRRz4fRCQCtZccgx15UMweRb7fjabi9sEU1NK8VAjwvN4WJh7"
KEY12="112t8rnaPL7prVxpgLGc2i1Fspmr8nCbcqt1yT8b53zpyHVSZAnZnS3NGFye5qhkaSevRFMGEUzwxZRbzEDHRAPiaaTVEZCc2EpTVoUE2vtL"
KEY13="112t8rnajL4kPYGuV2DstJLpyju3VSxtc6SHyaref4mHCQEjK8UVCt8oJZNXbJfX9dWiCGYru98xZwQaDZZXMkV3DZib33hW8zwNKQaEmhC9"
KEY14="112t8rnaqB4PAWPvoYBcCsEBv56ZS7Fwvr1Hazg7VrTsL9rEgj2jVcvDgUcF4JsDEM9XUsJ7wtztziioefoGNBaiMpVS6JQWjaRQnWVAVcMe"
KEY15="112t8rnb6vwRa1WQ4NBzM468ayWtM67WHsWHfEFmDv188uocypW73mHqNy1u8KNYQCNsEWGP3wEvtLa2hKCQkyQfsMaH7iLdrfUaiY98f1br"
KEY16="112t8rnbUzsbWj2Fhde5TKDS6gQWbLERBezo7Eocb5wgStAyFpxZf6tAxSW1sQjG72WbWU7g4ZQ52vzFuTLRSHjEBoiHPuZE7osSut4msAKe"
KEY17="112t8rnbh5Sdd8i1MRdGQnDp1tctTS39Y5LLxaKFYtJZAvMZyXYhScc73xvTRqKVecmueLm988m8f8Xpo17JbXUP9gJL7594kBomHmgUkoWZ"
KEY18="112t8rnc4kSUQAmjnNgU2w5aqsfoPkQKvfd8w6LqzCEJ2TTN8JwocdymwmrtuZt65YBJfq4souHXBJF5qoffUzt3m3mWvmV1Apba4DVLrudA"
KEY19="112t8rncTD2gSJBf1rd5XjbHNQi6w7CnDShZTX1xGPyFWQ7SS2nTyFgRjuPU1EX7UEeFgeHCxxqmp5EpoaZjivdatVu2Z6MfzZBS72PE9Bbo"
KEY20="112t8rnccEah1VasjyMUTZTgPS4vqcqAmdvernBqYSiZoyV8ndqzCC9dS4ZpLuEwjnNbpY8Fm8DcYRzDGgk9DrjAWSEY1T1KKUuGsiCkMroF"
KEY21="112t8rnd3sbzRqLpKWSjLrAi2pFW6mBKeF7dn9o9V56xKKd2Fni3N9PX2FCqttjn7qT48MUsUXyGyPARYsZbHhaeYM26mRtidCpBNciYYYAz"
KEY22="112t8rnd9AkQvtUTNWeXLT2hfBVCC8TYPaVE46CLQX41FFtPdjWTULJFoC8Jc6gUwyWqHgKVxc4je7C4Am2JLQLkX4SJYbuj7M38hs5D4RC5"
KEY23="112t8rndUvvKQekcLsZi1787aAscbVdv9ie37UYUAE6qbXVqTi5aFXcCTSa56ku4KXWheFscG8fjSMegTxowVTPX6MEfaNUv4QupjyFiE8RD"
KEY24="112t8rndobd2MBf43wzQdUrXZ9hnYnhqe5DaUdNMxRz48yp8UhpWVoWrEriknVFShmHNf6kqPkqsHoF3Y19PsBa3cztzeNLT5xkXkjUQoqsy"
KEY25="112t8rne5pM97NZ5fL6HL9JwUyBYhfaeD7fzcym9MTEc6GEZ9YbEcZCso8SAuSzTa9siSDdyJEGavKnq3Bh95ABvAiuCx8iWM4zQbTUPMNrx"
KEY26="112t8rneR2Vw2QCc7TTvDqY2gXNQDua3pvqh2YF3NbD8ptnJGy32hW7Gwn55XEteB9zuiiRF8Xd6Pw2pn3H9jmvVHERTLieG8iM2Bhc9knXD"
KEY27="112t8rneiv2xvHXng8VhXjay7v9MaJymHfMbM3V7c4a49enCwRUw9WkSgznumHitGY8NEtfz4NyQMzB32A1SDVqehzLco3tA1FpQoSMCzps2"
KEY28="112t8rneqrrphFTmBeyC4su8PKXhUxHMi1N4C7tuFnwedjJU2ZZY7cuB5HCrnTFU8Ec9PqsjJRWmVYToaRYPgp8Rx73bfzz6DUkwSPQW47Tk"
KEY29="112t8rnfJxsavj8ax3sZuEbPH7ahXDZ27gQGhUfCv9YCacNbeNYumkpwb6Gvxq6NhCgaMSpVv8x4omBjqfanLNMf8hM8n7KYPXh8qZkPuoCz"
KEY30="112t8rnfTWNh9GXz9v9WW2CSYxHVj7LTEBx4sesGBRswmHTtPz5GsxenheDcu1ETa4TvcY7qWXV6ftrJiNqRzePRAgNBzKcmNjnFwk4eSTsc"

rm -rf ./data/node-$1/mainnet/block
#rm -rf ./data/node-$1/mainnet/wallet
#rm -rf ./data/node-$1/mainnet/peer.json

mkdir -p ./data/node-$1
rm -rf ./constant-$1
go build
mv ./constant ./constant-$1
PORT=$((9430 + $1))
eval KEY=\${KEY$1}

export EXTERNAL_ADDRESS="127.0.0.1:$PORT"

if [ $1 != 1 ]
then
    ./constant-$1 --listen "127.0.0.1:$PORT" --externaladdress "127.0.0.1:$PORT" --discoverpeers --discoverpeersaddress "127.0.0.1:9330" --datadir "data/node-$1" --generate --producerspendingkey $KEY --norpc
else
    ./constant-$1 --listen "127.0.0.1:$PORT" --externaladdress "127.0.0.1:$PORT" --discoverpeers --discoverpeersaddress "127.0.0.1:9330" --datadir "data/node-$1" --generate --producerspendingkey $KEY --rpcuser "ad" --rpcpass "123" --enablewallet --walletpassphrase "12345678"
fi
